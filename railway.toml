[build]
builder = "DOCKERFILE"
dockerfilePath = "backend/Dockerfile.railway"

[deploy]
# Railway utilise le CMD du Dockerfile, donc on ne définit pas startCommand ici
# Le script start.sh gère les migrations et le démarrage de Daphne
# startCommand = "/start.sh"
healthcheckPath = "/api/health/"
healthcheckTimeout = 300
# Railway attend que le healthcheck retourne 200 (pas 503) pour router le trafic
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

