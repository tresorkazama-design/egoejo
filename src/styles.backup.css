:root{
  --mint:#00ffa3;
  --mint-2:#7cffd1;
  --bg-0:#000;
  --bg-1:#001a12;
  --text:#e8e8e8;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
html,body{margin:0}

body{
  font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 50% 0%, #001f18 0%, #000 60%),
    linear-gradient(180deg, #001a12 0%, #000 60%);
  overflow-x:hidden;
}

/* Conteneur */
.container{
  min-height:100vh;
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:6rem 1.25rem 4rem;
}

/* Canvas vague */
#bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  z-index:0;
}

/* Logo top */
.logo-wrap{
  position:absolute;
  inset-inline:0;
  top:24px;
  display:flex;
  justify-content:center;
  z-index:2;
}
.logo{
  width:min(220px,40vw);
  height:auto;
  opacity:0;
  animation:fadeIn .8s ease forwards, breathe 6s ease-in-out infinite 1.2s;
  filter: drop-shadow(0 0 10px rgba(0,255,163,.25));
}

/* Hero */
.hero{
  position:relative;
  z-index:3;
  text-align:center;
  max-width:1100px;
  width:min(92vw,1100px);
}
h1{
  margin:0 0 1.25rem 0;
  font-size:clamp(2rem,5vw,4rem);
  font-weight:800;
  letter-spacing:.06em;
  color:var(--mint-2);
  text-shadow:0 0 30px rgba(0,255,163,.25);
}
.lead{
  margin:0 auto 2.2rem;
  font-size:clamp(1.05rem,2.1vw,1.35rem);
  line-height:1.6;
  color:#dfeee7;
  opacity:.92;
}

/* CTA */
.cta{
  display:inline-flex; align-items:center; gap:.55rem;
  border:0; border-radius:999px; padding:.95rem 1.35rem;
  font-weight:700; font-size:1rem; color:#001a12;
  background:var(--mint);
  box-shadow:0 10px 30px rgba(0,255,163,.15), inset 0 -2px 0 rgba(0,0,0,.15);
  cursor:pointer;
  transition:transform .2s, box-shadow .2s, background .2s;
}
.cta:hover{ transform:translateY(-1px) scale(1.02); box-shadow:0 16px 38px rgba(0,255,163,.22) }
.cta:active{ transform:translateY(0) scale(.99) }
.cta .dot{ width:.55rem; height:.55rem; border-radius:50%; background:#001a12; opacity:.7 }

/* Section suivante */
.next{
  position:relative; z-index:2;
  margin-top:4.5rem; padding:4rem 1.25rem 6rem;
  width:100%;
  border-top:1px solid rgba(0,255,163,.08);
  background:linear-gradient(180deg, rgba(0,26,18,.15), transparent 50%);
}
.next h2{ color:var(--mint-2); font-size:clamp(1.4rem,3vw,2rem); margin:0 0 .75rem }
.next p{ margin:.25rem 0 0; color:#cfe9de }

/* Anims */
@keyframes fadeIn{ to{ opacity:1 } }
@keyframes breathe{ 0%{transform:scale(1)} 50%{transform:scale(1.03)} 100%{transform:scale(1)} }
/* ---- Cursor (desktop only) ---- */
@media (hover:hover) and (pointer:fine){
  body{ cursor: none; }
  .cursor-dot, .cursor-halo{
    position: fixed;
    top: 0; left: 0;
    transform: translate(-50%,-50%);
    pointer-events: none;
    z-index: 9999;
    will-change: transform, opacity;
  }
  .cursor-dot{
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--mint);
    box-shadow: 0 0 10px rgba(0,255,163,.6);
  }
  .cursor-halo{
    width: 42px; height: 42px; border-radius: 50%;
    background: radial-gradient(circle, rgba(0,255,163,.25) 0%, rgba(0,255,163,.08) 60%, rgba(0,255,163,0) 70%);
    filter: blur(0.5px);
    mix-blend-mode: screen;
    transition: transform .15s ease-out, opacity .2s ease-out;
  }
  /* Effets sur éléments interactifs */
  a:hover, button:hover, .cta:hover { }
  a:hover ~ .cursor-halo, 
  button:hover ~ .cursor-halo,
  .cta:hover ~ .cursor-halo { transform: translate(-50%,-50%) scale(1.15); }
}
/* Respecte l’accessibilité */
@media (prefers-reduced-motion: reduce){
  .cursor-dot, .cursor-halo{ transition: none !important; }
}
/* === Three.js en arrière-plan === */
.three-container{
  position: fixed;
  inset: 0;              /* top:0; right:0; bottom:0; left:0 */
  z-index: 0;            /* sous l'UI */
  pointer-events: none;  /* laisser les clics à l'UI */
}
.three-bg{
  width: 100%;
  height: 100%;
  display: block;
}

/* Contenu au-dessus de la 3D */
.container, .narration, .hero, header, main, .content{
  position: relative;
  z-index: 1;
}

/* (Option) si tu gardes encore l'ancien canvas 2D "waves", masque-le pour éviter le double effet */
canvas#waves, canvas#bg, .waves{
  display: none !important;
}

/* ------------- Magnétisme : style des éléments interactifs ------------- */

/* 1) Cibles "aimantées" par défaut :
      - tout élément portant data-magnetic
      - tout .cta
      - tout <a> qui porte data-magnetic (opt-in pour les liens)
*/
[data-magnetic], .cta, a[data-magnetic]{
  user-select: none;            /* empêche la sélection de texte */
  -webkit-user-select: none;
  cursor: pointer;              /* pointeur main */
  position: relative;           /* nécessaire pour le ::after */
  transform: translate3d(0,0,0);
  transition: transform .15s ease-out;  /* fallback visuel si JS absent */
  will-change: transform;       /* perf : le JS anime transform */
}

/* 2) Soulignement lumineux (apparait quand .mag-on est ajouté par le JS) */
[data-magnetic]::after,
.cta::after,
a[data-magnetic]::after{
  content:"";
  position:absolute;
  left:10%;
  right:10%;
  bottom:-3px;
  height:2px;
  background: radial-gradient(12px 8px at center, rgba(0,255,163,.85), transparent);
  opacity: 0;
  transform: scaleX(.4);
  transition: opacity .25s ease, transform .25s ease;
  pointer-events: none;
}

[data-magnetic].mag-on::after,
.cta.mag-on::after,
a[data-magnetic].mag-on::after{
  opacity: 1;
  transform: scaleX(1);
}

/* 3) Utilitaire si tu veux rendre un bloc non sélectionnable (hors magnétisme) */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* 4) (Optionnel) Sur écrans tactiles, laisser le comportement natif */
@media (pointer: coarse){
  [data-magnetic], .cta, a[data-magnetic]{
    cursor: auto;
  }
}
/* === Watermark breathing glow === */
.breathing-glow { animation: wm-breathe 5.2s ease-in-out infinite; }
@keyframes wm-breathe{
  0%   { filter: drop-shadow(0 0 10px rgba(0,255,163,0.18)); transform: scale(1); }
  50%  { filter: drop-shadow(0 0 20px rgba(0,255,163,0.35)); transform: scale(1.02); }
  100% { filter: drop-shadow(0 0 10px rgba(0,255,163,0.18)); transform: scale(1); }
}
@media (max-width: 768px){ .wm-logo { opacity: .06 !important; } }
/* === Reveal on scroll === */
[data-reveal]{ opacity:0; transform:translateY(18px); transition:opacity .7s ease, transform .7s ease; }
[data-reveal].reveal-in{ opacity:1; transform:translateY(0); }
