# EGOEJO – Note Conceptuelle pour Fondations

**Version** : 3.0  
**Date** : 2025-01-27  
**Statut** : Document Officiel  
**Public Cible** : Fondations, Organisations philanthropiques, Investisseurs à impact  
**Pages** : 10 maximum

---

## Table des Matières

1. [Résumé Exécutif](#1-résumé-exécutif)
2. [Problème Public Adressé & Populations Bénéficiaires](#2-problème-public-adressé--populations-bénéficiaires)
3. [Théorie du Changement](#3-théorie-du-changement)
4. [Modèle de Gouvernance](#4-modèle-de-gouvernance)
5. [Conformité & Risques](#5-conformité--risques)
6. [Mesure d'Impact](#6-mesure-dimpact)
7. [Transparence & Auditabilité](#7-transparence--auditabilité)
8. [Déploiement & Partenariats](#8-déploiement--partenariats)
9. [Budget Indicatif & Soutenabilité](#9-budget-indicatif--soutenabilité)
10. [Annexes](#10-annexes)

---

## 1. Résumé Exécutif

**EGOEJO** est une plateforme numérique dédiée à la régénération du vivant qui relie des citoyens à des projets sociaux à fort impact écologique et social. La plateforme opère selon un modèle de gouvernance hybride unique, combinant une structure relationnelle (SAKA, unité d'engagement interne) et une structure instrumentale (EUR, monnaie réelle), strictement séparées et protégées par des mécanismes techniques et juridiques opposables.

### Objectifs Principaux

- **Faciliter la découverte et la participation** à des projets régénératifs locaux (refuges, jardins nourriciers, ateliers de transmission, résidences de recherche-action)
- **Gérer la collecte de fonds** de manière transparente et traçable (100% des dons nets après frais de plateforme sont utilisés pour financer les projets)
- **Promouvoir l'engagement citoyen** via un système d'engagement interne (SAKA) non-financier et non-monétaire
- **Garantir la conformité** aux principes de gouvernance des communs via des tests automatiques bloquants et une CI/CD protectrice

### Caractéristiques Distinctives

1. **Double Structure Protégée** : Séparation stricte SAKA/EUR encodée dans le code source, testée automatiquement en continu, non négociable
2. **Anti-Accumulation** : Mécanisme de compostage obligatoire et redistribution équitable du SAKA inactif
3. **Gouvernance Protectrice** : Tests de compliance bloquants, audit logs, label public "EGOEJO Compliant" vérifiable par des tiers
4. **Transparence Technique** : Endpoints publics de vérification, documentation complète, traçabilité totale

### Impact Attendu

- **Court terme (12 mois)** : 50-100 projets locaux référencés, 500-1000 utilisateurs actifs, 50 000-100 000 € collectés (nets après frais de plateforme)
- **Moyen terme (3 ans)** : Réseau de 200-500 projets, 5000-10000 utilisateurs, 500 000-1 000 000 € collectés (nets après frais de plateforme)
- **Long terme (5-10 ans)** : Modèle réplicable, label "EGOEJO Compliant" adopté par des projets tiers, impact mesurable sur la régénération du vivant

---

## 2. Problème Public Adressé & Populations Bénéficiaires

### Problème Public

Les projets régénératifs locaux (refuges, jardins nourriciers, ateliers de transmission, résidences de recherche-action) rencontrent trois obstacles majeurs :

1. **Visibilité limitée** : Difficulté à se faire connaître au-delà de leur territoire immédiat
2. **Financement fragmenté** : Collecte de fonds dispersée, manque de transparence, frais de plateforme non explicites
3. **Engagement citoyen non valorisé** : Participation bénévole non reconnue, manque d'outils pour mesurer l'impact relationnel

### Populations Bénéficiaires

#### Bénéficiaires Directs

- **Porteurs de projets régénératifs** : Associations, collectifs citoyens, organisations locales engagées pour le vivant
- **Citoyens engagés** : Personnes souhaitant participer à des projets locaux, contribuer financièrement, ou partager leurs compétences
- **Communautés locales** : Populations bénéficiant des projets (refuges, jardins nourriciers, ateliers de transmission)

#### Bénéficiaires Indirects

- **Territoires** : Collectivités territoriales, écosystèmes locaux, biodiversité
- **Gouvernance des communs** : Modèle réplicable pour d'autres plateformes dédiées au vivant
- **Secteur de l'économie sociale et solidaire** : Innovation en matière de gouvernance et de transparence

---

## 3. Théorie du Changement

### Inputs

- **Infrastructure technique** : Plateforme web (frontend React, backend Django REST Framework)
- **Ressources financières** : Dons collectés via Stripe (100% des dons nets après frais de plateforme alloués aux projets)
- **Ressources humaines** : Équipe technique, conseil d'administration, comité de mission
- **Ressources relationnelles** : Système SAKA pour reconnaître et valoriser l'engagement (non-financier, non-monétaire)

### Activités

1. **Référencement de projets** : Catalogue de projets locaux avec filtres, recherche, géolocalisation
2. **Collecte de fonds** : Cagnottes transparentes, traçabilité totale, 100% des dons nets (après frais de plateforme) alloués aux projets
3. **Engagement citoyen** : Système SAKA pour reconnaître et valoriser la participation (non-financier, non-monétaire)
4. **Gouvernance participative** : Votes, sondages, décisions collectives via méthodes démocratiques vérifiables
5. **Partage de contenus** : Ressources documentaires, guides pratiques, vidéos pédagogiques

### Outputs

- **Projets référencés** : Catalogue de projets locaux accessibles publiquement
- **Fonds collectés** : Montants collectés (nets après frais de plateforme) alloués aux projets
- **Engagement mesuré** : Unités SAKA distribuées, participation citoyenne valorisée
- **Décisions collectives** : Votes, sondages, gouvernance participative

### Outcomes

- **Court terme (12 mois)** : Augmentation de la visibilité des projets, collecte de fonds facilitée, engagement citoyen valorisé
- **Moyen terme (3 ans)** : Réseau de projets structuré, impact mesurable sur la régénération du vivant, modèle réplicable
- **Long terme (5-10 ans)** : Transformation des pratiques de gouvernance des communs, adoption du label "EGOEJO Compliant" par des projets tiers

---

## 4. Modèle de Gouvernance

### Double Structure

EGOEJO opère selon une **double structure clairement séparée et opposable** :

1. **Structure relationnelle (SAKA)** : Unité d'engagement interne, non-financière et non-monétaire, mesurée en grains (entiers positifs)
2. **Structure instrumentale (EUR)** : Monnaie réelle utilisée pour les dons et le financement de projets

### Subordination

La structure relationnelle (SAKA) **prime toujours** sur la structure instrumentale (EUR). Cette subordination est :

- **Encodée dans le code source** : Aucune fonction, aucun endpoint API, aucun mécanisme technique ne peut convertir SAKA en EUR ou vice versa
- **Testée automatiquement en continu** : Suite de tests bloquants vérifiant l'absence de conversion SAKA ↔ EUR
- **Non négociable** : Cette séparation est protégée par des tests de compliance bloquants et une CI/CD protectrice

### Anti-Accumulation

Le SAKA suit un **cycle obligatoire en quatre étapes** :

1. **Semis** : Participation aux projets et récolte de SAKA
2. **Usage** : Utilisation pour booster des projets, voter, participer à la gouvernance
3. **Compostage** : Retour automatique au Silo Commun si inactif (non utilisé pendant une période définie)
4. **Redistribution** : Du Silo Commun vers les portefeuilles actifs selon des règles équitables

Ce cycle garantit que le SAKA reste un outil d'engagement relationnel, jamais un instrument d'accumulation ou de spéculation.

### Gouvernance Protectrice

La conformité aux principes EGOEJO est garantie par :

1. **Tests de compliance automatiques** : Suite de tests bloquants vérifiant l'absence de conversion SAKA ↔ EUR, le respect de l'anti-accumulation, et la séparation stricte des structures
2. **CI/CD bloquante** : Toute violation détectée par les tests bloque automatiquement les déploiements (GitHub Actions, hooks Git pre-commit)
3. **Audit logs** : Toutes les actions critiques (récolte SAKA, compostage, redistribution, transactions EUR) sont tracées, horodatées, et auditées
4. **Gouvernance organisationnelle** : Conseil d'administration, comité de mission, review obligatoire pour modifications critiques, formation continue de l'équipe
5. **Label public "EGOEJO Compliant"** : Certification publique de conformité aux principes, vérifiable par des tiers (auditeurs, fondations, institutions publiques)

### Mécanisme Opposable de Non-Dérive

Le mécanisme de non-dérive garantit la détection et la notification automatique de toute violation des principes fondamentaux EGOEJO (séparation SAKA/EUR, anti-accumulation, intégrité des données).

#### Déclencheurs Automatiques

Le système détecte automatiquement les violations suivantes :

1. **Contournement de la protection SAKA** : Modification directe du solde SAKA via SQL brut (`raw()`) ou méthodes non autorisées, sans transaction correspondante
2. **Modification massive du solde SAKA** : Changement supérieur à un seuil critique (10 000 SAKA par défaut) sans justification transactionnelle
3. **Incohérence SAKA** : Désalignement entre la somme des soldes des portefeuilles et l'historique des transactions SAKA
4. **Tentative de conversion SAKA ↔ EUR** : Détection de toute fonction, endpoint, ou mécanisme tentant une conversion entre systèmes

#### Automatisation

- **Détection en temps réel** : Les violations sont détectées par des signaux Django (`post_save`) lors de toute modification de données critiques
- **Tests automatiques** : Suite de tests bloquants exécutés à chaque commit et déploiement (CI/CD)
- **Vérification périodique** : Endpoint de compliance vérifiant l'intégrité SAKA (`/api/compliance/integrity/saka/`)

#### Notification Multi-Canaux

En cas de violation détectée, le système envoie automatiquement des alertes via :

1. **Email** : Notification aux administrateurs avec payload structuré JSON et détails de la violation
2. **Webhook (optionnel)** : Notification via webhook (format generic ou Slack) si configuré
3. **Logs structurés** : Enregistrement dans les logs Django avec niveau CRITICAL pour suivi et analyse

Les alertes sont dédoublonnées (fenêtre de 5 minutes) pour éviter le spam en cas de violations répétées.

#### Traçabilité

Toute alerte critique est automatiquement enregistrée dans la base de données via le modèle `CriticalAlertEvent` avec :

- **Timestamp** : Date et heure précise de la détection (UTC)
- **Type d'événement** : Classification de la violation (ex: `INTEGRITY BREACH DETECTED`)
- **Canal d'envoi** : Email, webhook, ou les deux
- **Empreinte unique** : Clé de dédoublonnage pour éviter les doublons
- **Extrait du payload** : Champs principaux (user_id, delta, violation_type) pour recherche rapide

Les événements sont conservés pour audit et analyse des tendances.

#### Auditabilité

Le système fournit des mécanismes d'audit pour vérifier l'efficacité du mécanisme de non-dérive :

1. **Export mensuel** : Commande management `alerts_report --month YYYY-MM` générant un rapport avec :
   - Total d'alertes par mois
   - Répartition par type d'événement
   - Répartition par canal de notification
   - Période couverte (première/dernière alerte)

2. **Requêtes d'agrégation** : Méthodes Python permettant de compter les alertes par mois, type, ou canal pour analyse statistique

3. **Vérification d'intégrité** : Endpoint API `/api/compliance/integrity/saka/` permettant de vérifier la cohérence SAKA à tout moment

Ce mécanisme est opposable : toute violation détectée est tracée, notifiée, et auditable par des tiers (auditeurs, fondations, institutions publiques).

---

## 5. Conformité & Risques

### Statut Juridique du SAKA

> **⚠️ CLARIFICATION JURIDIQUE OPPOSABLE**

Le **SAKA** (unité d'engagement interne) fait l'objet d'une qualification juridique explicite afin d'éviter toute interprétation erronée comme crypto-actif, token financier, ou instrument financier.

#### 1. Qualification

Le SAKA est une **unité de compte interne non-monétaire** destinée exclusivement à la mesure de l'engagement relationnel. Il s'agit d'un mécanisme de comptabilisation interne permettant de quantifier la participation citoyenne aux projets régénératifs, sans aucune dimension financière ou monétaire.

#### 2. Non-Fongibilité Financière

Le SAKA **n'est ni une monnaie électronique, ni un actif numérique (PSAN), ni un titre financier**. Il ne possède aucune contrepartie financière garantie, aucune valeur monétaire, et ne peut faire l'objet d'aucune transaction financière. Le SAKA est strictement séparé de l'EUR (monnaie réelle) par des mécanismes techniques opposables encodés dans le code source et testés automatiquement en continu.

#### 3. Incessibilité

Le SAKA est **incessible entre tiers hors des mécanismes protocolaires** (don, vote, redistribution). Toute transaction SAKA doit passer par les services protocolaires EGOEJO (harvest_saka, spend_saka, compost, redistribute) et est tracée, horodatée, et auditable. Aucune cession, vente, ou échange de SAKA en dehors de ces mécanismes n'est techniquement possible.

**Objectif** : Cette qualification juridique explicite permet de couper court à toute interprétation "Crypto/Token financier" par un régulateur et garantit la conformité aux réglementations financières applicables.

### Conformité Financière

- **Séparation SAKA/EUR** : Aucune conversion possible, tests automatiques bloquants, vérifiable par des audits externes
- **Transparence financière** : 100% des dons nets (après frais de plateforme) alloués aux projets, frais transparents et explicitement mentionnés
- **Conformité réglementaire** : Conformité PCI-DSS (Stripe), conformité aux réglementations financières applicables

### Conformité Données (RGPD)

- **Consentement explicite** : Collecte de données avec consentement éclairé
- **Droit à l'oubli** : Suppression des données personnelles sur demande
- **Export des données** : Possibilité d'exporter ses données personnelles
- **Sécurité des données** : Chiffrement, audit logs, traçabilité totale

### Conformité Publicité

- **Aucune promesse financière** : Aucun contenu ne peut promettre de rendement, de rente, ou de conversion SAKA ↔ EUR
- **Transparence des frais** : Frais de plateforme explicitement mentionnés et transparents
- **Conformité éditoriale** : Contenu public = published uniquement, source et licence obligatoires

### Conformité Inclusion

- **Accessibilité** : Conformité WCAG 2.1, navigation clavier, skip-links, traductions multilingues
- **Inclusivité** : Langage clair, sans jargon non défini, traductions disponibles (FR, EN, AR, DE, ES, SW)
- **Non-discrimination** : Aucune discrimination basée sur l'origine, le genre, l'âge, ou les capacités

### Risques Identifiés & Mitigation

#### Risque 1 : Conversion SAKA ↔ EUR

- **Gravité** : Critique
- **Probabilité** : Faible (tests automatiques bloquants)
- **Mitigation** : Tests de compliance bloquants, CI/CD protectrice, audit logs, label public vérifiable

#### Risque 2 : Accumulation Passive

- **Gravité** : Élevée
- **Probabilité** : Faible (mécanisme de compostage automatique)
- **Mitigation** : Compostage obligatoire, redistribution équitable, tests automatiques

#### Risque 3 : Violation RGPD

- **Gravité** : Élevée
- **Probabilité** : Faible (conformité RGPD implémentée)
- **Mitigation** : Consentement explicite, droit à l'oubli, export des données, audit régulier

#### Risque 4 : Frais de Plateforme Non Transparents

- **Gravité** : Moyenne
- **Probabilité** : Faible (frais explicitement mentionnés)
- **Mitigation** : Transparence totale, mention explicite des frais, tests automatiques vérifiant la présence de "nets" ou "après frais"

---

## 6. Mesure d'Impact

### Indicateurs Quantitatifs

#### Indicateurs de Référencement

- **Nombre de projets référencés** : Objectif 50-100 projets (12 mois), 200-500 projets (3 ans)
- **Taux de croissance** : +20-30% par trimestre
- **Couverture géographique** : Nombre de territoires couverts

#### Indicateurs de Collecte de Fonds

- **Montants collectés (nets après frais de plateforme)** : Objectif 50 000-100 000 € (12 mois), 500 000-1 000 000 € (3 ans)
- **Taux de conversion** : % de visiteurs devenant donateurs
- **Taux de rétention** : % de donateurs récurrents

#### Indicateurs d'Engagement

- **Nombre d'utilisateurs actifs** : Objectif 500-1000 utilisateurs (12 mois), 5000-10000 utilisateurs (3 ans)
- **Unités SAKA distribuées** : Nombre de grains SAKA distribués
- **Participation aux votes** : % d'utilisateurs participant aux votes et sondages

### Indicateurs Qualitatifs

- **Satisfaction des porteurs de projets** : Enquêtes de satisfaction, témoignages
- **Impact sur la régénération du vivant** : Études de cas, mesures d'impact environnemental
- **Adoption du label "EGOEJO Compliant"** : Nombre de projets tiers adoptant le label

### Limites de la Mesure d'Impact

- **Impact relationnel difficilement quantifiable** : L'impact du SAKA sur l'engagement relationnel est difficile à mesurer de manière objective
- **Causalité complexe** : L'impact sur la régénération du vivant dépend de nombreux facteurs externes
- **Temporalité** : Certains impacts ne sont visibles qu'à long terme (5-10 ans)

---

## 7. Transparence & Auditabilité

### Tests Automatiques

- **Tests de compliance bloquants** : Suite de tests vérifiant l'absence de conversion SAKA ↔ EUR, le respect de l'anti-accumulation, et la séparation stricte des structures
- **Tests unitaires** : Tests des composants critiques (frontend et backend)
- **Tests E2E** : Tests end-to-end vérifiant les fonctionnalités principales
- **Tests d'accessibilité** : Tests WCAG 2.1, navigation clavier, skip-links

### CI/CD Protectrice

- **GitHub Actions** : Workflows automatiques exécutant les tests à chaque modification du code
- **Hooks Git pre-commit** : Vérifications locales avant chaque commit
- **Déploiement conditionnel** : Déploiement bloqué si les tests échouent

### Label Public "EGOEJO Compliant"

- **Endpoint public** : `/api/public/egoejo-compliance.json` (statut de conformité, critères validés, date d'audit)
- **Badge SVG dynamique** : `/api/public/egoejo-compliance-badge.svg` (badge visuel indiquant le niveau de conformité)
- **Vérification par des tiers** : Auditeurs, fondations, institutions publiques peuvent vérifier la conformité

### Audit Logs

- **Traçabilité totale** : Toutes les actions critiques (récolte SAKA, compostage, redistribution, transactions EUR) sont tracées, horodatées, et auditées
- **Conservation** : Logs conservés pour des audits externes
- **Accessibilité** : Logs accessibles pour des audits réguliers

---

## 8. Déploiement & Partenariats

### Déploiement Technique

- **Hébergement** : Cloud (Vercel frontend, Railway backend)
- **Base de données** : PostgreSQL (données structurées, traçabilité)
- **Stockage média** : Stockage objet (S3-compatible, Cloudflare R2)
- **Paiement** : Stripe (paiement sécurisé, conformité PCI-DSS)
- **Monitoring** : Sentry (erreurs, performance), logs structurés

### Partenariats Territoriaux

- **Collectivités territoriales** : Mise en réseau de projets locaux, financement participatif, accompagnement technique
- **Associations locales** : Référencement de projets, accompagnement technique, formation
- **Réseaux d'acteurs** : Partenariats avec des réseaux existants (économie sociale et solidaire, transition écologique)

### Partenariats Institutionnels

- **Institutions publiques** : Reconnaissance, financement, déploiement à l'échelle territoriale
- **Fondations** : Financement, reconnaissance, label "EGOEJO Compliant"
- **Organisations internationales** : Reconnaissance, déploiement à l'échelle internationale

---

## 9. Budget Indicatif & Soutenabilité

### Budget Indicatif (Année 1)

- **Infrastructure technique** : 5 000-10 000 €/an (hébergement, stockage, monitoring)
- **Développement** : 20 000-40 000 €/an (équipe technique, maintenance, évolutions)
- **Gouvernance** : 5 000-10 000 €/an (conseil d'administration, comité de mission, audits)
- **Communication** : 5 000-10 000 €/an (documentation, communication, événements)
- **Total** : 35 000-70 000 €/an

### Modèle de Soutenabilité

- **Dons** : Collecte de dons via Stripe (100% des dons nets après frais de plateforme alloués aux projets)
- **Frais de plateforme** : Frais transparents et explicitement mentionnés (Stripe : ~3%, frais de gestion : à définir)
- **Financements institutionnels** : Demandes de financement auprès de fondations, institutions publiques, organisations internationales
- **Partenariats** : Partenariats avec des collectivités territoriales, associations, réseaux d'acteurs

### Limites & Précautions

- **Aucune promesse de rentabilité** : EGOEJO ne promet aucun rendement financier
- **Transparence totale** : Budget et frais transparents et accessibles publiquement
- **Gouvernance protectrice** : Conseil d'administration, comité de mission, review obligatoire

---

## 10. Annexes

### Annexe A : Glossaire SAKA/EUR

#### SAKA

**SAKA** est une unité d'engagement interne, non-financière et non-monétaire. Le SAKA est mesuré en grains (entiers positifs) et sert à soutenir des projets, voter, et participer à la gouvernance. Le SAKA n'est pas convertible en EUR et n'a aucune valeur monétaire. Le SAKA suit un cycle obligatoire en quatre étapes : semis (participation aux projets) → usage (utilisation pour booster, voter, participer) → compostage (retour automatique au Silo Commun si inactif) → redistribution (du Silo Commun vers les portefeuilles actifs).

#### EUR

**EUR (Euro)** est la monnaie réelle utilisée pour les dons et le financement de projets. L'EUR est strictement séparée du SAKA : aucune conversion n'est possible, aucun mécanisme technique ne permet cette conversion. Les dons en EUR sont gérés via Stripe (paiement sécurisé) et utilisés à 100% (nets après frais de plateforme) pour financer les projets. Les frais de plateforme sont transparents et explicitement mentionnés.

#### Silo Commun

Le **Silo Commun** est le réservoir central de SAKA composté. Tout SAKA inactif (non utilisé pendant une période définie et configurable) est automatiquement composté et retourne au Silo Commun. Le Silo Commun redistribue ensuite le SAKA composté aux portefeuilles actifs selon des règles équitables, garantissant une circulation continue et empêchant l'accumulation passive.

#### Compostage

Le **compostage** est le mécanisme automatique qui transfère le SAKA inactif vers le Silo Commun. Si un portefeuille SAKA n'est pas utilisé pendant une période définie (configurable, par défaut plusieurs jours), le SAKA inactif est automatiquement composté. Ce mécanisme garantit la circulation obligatoire du SAKA et empêche l'accumulation passive. Le compostage est tracé, horodaté, et auditable.

### Annexe B : Disclaimer Culturel

Les citations présentes sur la plateforme EGOEJO proviennent de sources diverses (collectif EGOEJO, communautés autochtones, penseurs du vivant). Elles sont utilisées avec autorisation explicite et dans le respect des cultures et des traditions d'origine. EGOEJO reconnaît la diversité des savoirs et s'engage à respecter les droits culturels et intellectuels des communautés sources. Toute utilisation de citations est tracée et documentée.

### Annexe C : Charte Éditoriale

#### Principes Fondamentaux

1. **Contenu public = published uniquement** : Seuls les contenus avec le statut "published" sont accessibles publiquement
2. **Source et licence obligatoires** : Tous les contenus publics doivent avoir une source et une licence explicites
3. **Interdiction de promesses financières** : Aucun contenu ne peut promettre de rendement, de rente, ou de conversion SAKA ↔ EUR

#### Conformité Éditoriale

- **Tests automatiques** : Suite de tests bloquants vérifiant l'absence de promesses financières, la présence de source et licence, et le statut "published" pour les contenus publics
- **CI/CD bloquante** : Toute violation bloque automatiquement les déploiements
- **Audit régulier** : Audits réguliers des contenus publics pour vérifier la conformité

### Annexe D : Mécanisme de Non-Dérive — Références Techniques

#### Configuration (Settings)

Les paramètres suivants sont configurables via variables d'environnement :

- `ALERT_EMAIL_ENABLED` : Activer/désactiver les alertes email (défaut: `True`)
- `ALERT_EMAIL_SUBJECT_PREFIX` : Préfixe du sujet email (défaut: `[URGENT] EGOEJO`)
- `ALERT_WEBHOOK_ENABLED` : Activer/désactiver les webhooks (défaut: `False`)
- `ALERT_WEBHOOK_URL` : URL du webhook (obligatoire si activé)
- `ALERT_WEBHOOK_TYPE` : Type de webhook (`generic` ou `slack`, défaut: `generic`)
- `ALERT_WEBHOOK_TIMEOUT_SECONDS` : Timeout pour les requêtes HTTP (défaut: `5`)
- `ADMINS` : Liste des administrateurs recevant les alertes (format JSON ou email simple)

**Fichier** : `backend/config/settings.py` (lignes 470-479)

#### Endpoints et Commandes

**Endpoint de vérification d'intégrité SAKA** :
- `GET /api/compliance/integrity/saka/` : Vérifie la cohérence entre soldes SAKA et transactions (admin uniquement)
- Réponse JSON : `saka_integrity_status`, `total_wallet_balance`, `total_transactions_calculated_balance`, `discrepancy`

**Commande management** :
- `python manage.py alerts_report --month YYYY-MM` : Génère un rapport mensuel des alertes critiques
- Affiche : total, répartition par `event_type`, répartition par `channel`, période couverte

**Fichiers** :
- `backend/core/api/compliance_views.py` : Endpoint d'intégrité SAKA
- `backend/core/management/commands/alerts_report.py` : Commande de rapport

#### Références Fichiers

**Code source principal** :
- `backend/core/utils/alerts.py` : Module central d'alerte (détection, notification, dédoublonnage)
- `backend/core/models/saka.py` : Modèle SAKA avec signal `post_save` de détection
- `backend/core/models/alerts.py` : Modèle `CriticalAlertEvent` pour traçabilité

**Tests** :
- `backend/core/tests/utils/test_alerts.py` : Tests unitaires du système d'alerte
- `backend/core/tests/models/test_critical_alert_event.py` : Tests du modèle d'événements
- `backend/core/tests/models/test_saka_wallet_raw_sql.py` : Tests de détection de contournement

**Documentation** :
- `docs/security/ALERTING_EMAIL.md` : Documentation système d'alerte email
- `docs/security/ALERTING_WEBHOOK.md` : Documentation système d'alerte webhook
- `docs/observability/ALERTS_METRICS.md` : Documentation métriques et observabilité

#### Commandes de Vérification CI

Les tests de vérification du mécanisme de non-dérive sont exécutés automatiquement en CI/CD :

```bash
# Tests d'alerte (email + webhook)
pytest backend/core/tests/utils/test_alerts.py -v

# Tests d'événements critiques
pytest backend/core/tests/models/test_critical_alert_event.py -v

# Tests de détection de contournement SAKA
pytest backend/core/tests/models/test_saka_wallet_raw_sql.py -v

# Tests de compliance SAKA/EUR
pytest backend/tests/compliance/test_saka_eur_separation.py -v
```

**Fichier CI/CD** : `.github/workflows/ci.yml` (workflow GitHub Actions)

**Critère de succès** : Tous les tests doivent passer pour autoriser le déploiement. Toute violation détectée bloque le déploiement.

---

**Document généré le** : 2025-01-27  
**Version** : 3.0  
**Statut** : Document Officiel  
**Contact** : [À compléter]
