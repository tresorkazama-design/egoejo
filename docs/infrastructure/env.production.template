# ============================================
# EGOEJO - Variables d'Environnement Production
# ============================================
# 
# Ce fichier est un template pour la production.
# Copiez-le vers backend/.env.production et remplissez les valeurs.
#
# IMPORTANT : Ne commitez JAMAIS .env.production dans Git !
#
# ============================================

# ============================================
# Sécurité
# ============================================
DJANGO_SECRET_KEY=<générer une clé de 50+ caractères>
DEBUG=0
ALLOWED_HOSTS=egoejo.org,www.egoejo.org

# ============================================
# Base de Données
# ============================================
# Utilisées par docker-compose.prod.yml
DB_NAME=egoejo
DB_USER=egoejo
DB_PASSWORD=<mot de passe sécurisé>

# Alternative : DATABASE_URL complète
# DATABASE_URL=postgresql://user:password@db:5432/egoejo

# ============================================
# Redis
# ============================================
# Utilisé par docker-compose.prod.yml
REDIS_URL=redis://cache:6379/0

# ============================================
# CORS
# ============================================
CORS_ALLOWED_ORIGINS=https://egoejo.org,https://www.egoejo.org
CSRF_TRUSTED_ORIGINS=https://egoejo.org,https://www.egoejo.org

# ============================================
# SSL / HTTPS
# ============================================
SECURE_SSL_REDIRECT=1
SESSION_COOKIE_SECURE=1
CSRF_COOKIE_SECURE=1
SECURE_HSTS_SECONDS=31536000

# ============================================
# Email (Resend)
# ============================================
RESEND_API_KEY=<votre clé Resend>
NOTIFY_EMAIL=notifications@egoejo.org
DEFAULT_FROM_EMAIL=noreply@egoejo.org

# ============================================
# Admin
# ============================================
ADMIN_TOKEN=<token sécurisé pour l'admin>

# ============================================
# JWT
# ============================================
ACCESS_TOKEN_MINUTES=60
REFRESH_TOKEN_DAYS=7

# ============================================
# Rate Limiting
# ============================================
THROTTLE_ANON=10/minute
THROTTLE_USER=100/minute
THROTTLE_IP=100/hour

# ============================================
# Monitoring (Optionnel)
# ============================================
# SENTRY_DSN=<votre DSN Sentry backend>
# LOG_LEVEL=INFO

# ============================================
# Application
# ============================================
APP_BASE_URL=https://egoejo.org

# ============================================
# SAKA Protocol
# ============================================
ENABLE_SAKA=True
SAKA_COMPOST_ENABLED=True
SAKA_COMPOST_INACTIVITY_DAYS=30
SAKA_COMPOST_RATE=0.1
SAKA_SILO_REDIS_ENABLED=True
SAKA_SILO_REDIS_RATE=0.05

# ============================================
# Ports (pour docker-compose.prod.yml)
# ============================================
BACKEND_PORT=8000
HTTP_PORT=80
HTTPS_PORT=443
DB_PORT=5432
REDIS_PORT=6379

